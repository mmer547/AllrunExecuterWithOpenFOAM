{% extends "layout.html" %}
{% block content %}
<nav class="navbar navbar-dark bg-dark navbar-expand-sm">
    <a href="/" class="navbar-brand">AllrunExecuterWithOpenFOAM</a>
</nav>
<div class="container">
    <form action="/run" method="post" enctype = multipart/form-data>
        <div class="row">
            <p class="lead">Allrunファイルを含んだOpenFOAMのケースファイルをZip形式でアップロードしてください。</p>
            <div class="col-md-12" id="main">
                <a class="btn btn-secondary" href="https://xsim.work/">XSim<a><br><br>
                <label for="mesh">ファイルアップロード</label><br>
                <input type=file name="mesh">
                <br><br>
                <button name="runCalc" type="submit" class="btn btn-primary btn-lg"
                onclick="javascript:document.all.loading.style.display='block';OnLinkClick()">計算実行
                </button><br>
                <br>
                <hr>
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <ul class=flashes>
                    {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                    {% endfor %}
                    </ul>
                {% endif %}
                {% endwith %}
                <div id="loading" style="display:none;">
                  <img src="/static/img/loading-l-7.gif" />
                </div>   
                <br>
            </div>
        </div>
        <a href="/" >トップに戻る</a>
    </form>
</div>
{% endblock %}